<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workbook Buttons Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #667eea;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        h2 {
            color: #333;
            font-size: 18px;
            margin-bottom: 15px;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 8px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        .btn-success {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
        }
        .btn-info {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        .log-area {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .log-line {
            margin: 4px 0;
            padding: 4px 0;
        }
        .log-success { color: #4ec9b0; }
        .log-error { color: #f48771; }
        .log-info { color: #569cd6; }
        .log-warning { color: #dcdcaa; }
        .clear-btn {
            background: #dc3545;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Workbook Buttons Test</h1>
        <p class="subtitle">Test c√°c event listeners c·ªßa buttons</p>

        <!-- Test Section 1 -->
        <div class="test-section">
            <h2>1Ô∏è‚É£ Test Basic Click Events</h2>
            <button class="btn btn-primary" data-action="add-week" onclick="testLog('Add Week clicked!')">
                ‚ûï Th√™m tu·∫ßn
            </button>
            <button class="btn btn-success" data-action="submit-workbook" onclick="testLog('Submit clicked!')">
                üì§ N·ªôp s·ªï
            </button>
            <button class="btn btn-info" data-action="save-notes" onclick="testLog('Save notes clicked!')">
                üíæ L∆∞u ghi ch√∫
            </button>
        </div>

        <!-- Test Section 2 -->
        <div class="test-section">
            <h2>2Ô∏è‚É£ Test v·ªõi Event Listeners (kh√¥ng d√πng onclick)</h2>
            <button class="btn btn-primary" id="testBtn1">
                Test Button 1
            </button>
            <button class="btn btn-success" id="testBtn2">
                Test Button 2
            </button>
            <button class="btn btn-info" id="testBtn3">
                Test Button 3
            </button>
        </div>

        <!-- Test Section 3 -->
        <div class="test-section">
            <h2>3Ô∏è‚É£ Test querySelector v·ªõi data-action</h2>
            <button class="btn btn-primary" id="findBtn">
                T√¨m buttons b·∫±ng data-action
            </button>
        </div>

        <!-- Console Log -->
        <div class="test-section">
            <h2>üìã Console Log</h2>
            <div id="logArea" class="log-area">
                <div class="log-line log-info">Ready to test...</div>
            </div>
            <button class="clear-btn" onclick="clearLog()">Clear Log</button>
        </div>
    </div>

    <script>
        // Log function
        function testLog(message, type = 'info') {
            const logArea = document.getElementById('logArea');
            const timestamp = new Date().toLocaleTimeString();
            const logLine = document.createElement('div');
            logLine.className = `log-line log-${type}`;
            logLine.textContent = `[${timestamp}] ${message}`;
            logArea.appendChild(logLine);
            logArea.scrollTop = logArea.scrollHeight;
            console.log(`[${timestamp}] ${message}`);
        }

        function clearLog() {
            document.getElementById('logArea').innerHTML = '<div class="log-line log-info">Log cleared...</div>';
        }

        // Test addEventListener
        document.addEventListener('DOMContentLoaded', function() {
            testLog('‚úÖ DOM Content Loaded', 'success');

            // Test 1: Add listeners to test buttons
            const testBtn1 = document.getElementById('testBtn1');
            const testBtn2 = document.getElementById('testBtn2');
            const testBtn3 = document.getElementById('testBtn3');

            if (testBtn1) {
                testBtn1.addEventListener('click', function() {
                    testLog('‚úÖ Test Button 1 clicked via addEventListener', 'success');
                });
                testLog('Listener added to Test Button 1', 'info');
            }

            if (testBtn2) {
                testBtn2.addEventListener('click', function() {
                    testLog('‚úÖ Test Button 2 clicked via addEventListener', 'success');
                });
                testLog('Listener added to Test Button 2', 'info');
            }

            if (testBtn3) {
                testBtn3.addEventListener('click', function() {
                    testLog('‚úÖ Test Button 3 clicked via addEventListener', 'success');
                });
                testLog('Listener added to Test Button 3', 'info');
            }

            // Test 2: querySelector with data-action
            const findBtn = document.getElementById('findBtn');
            if (findBtn) {
                findBtn.addEventListener('click', function() {
                    testLog('üîç Searching for buttons with data-action...', 'info');
                    
                    const addWeekBtn = document.querySelector('[data-action="add-week"]');
                    const submitBtn = document.querySelector('[data-action="submit-workbook"]');
                    const saveNotesBtn = document.querySelector('[data-action="save-notes"]');

                    if (addWeekBtn) {
                        testLog('‚úÖ Found: [data-action="add-week"]', 'success');
                        testLog(`   Text: "${addWeekBtn.textContent.trim()}"`, 'info');
                    } else {
                        testLog('‚ùå Not found: [data-action="add-week"]', 'error');
                    }

                    if (submitBtn) {
                        testLog('‚úÖ Found: [data-action="submit-workbook"]', 'success');
                        testLog(`   Text: "${submitBtn.textContent.trim()}"`, 'info');
                    } else {
                        testLog('‚ùå Not found: [data-action="submit-workbook"]', 'error');
                    }

                    if (saveNotesBtn) {
                        testLog('‚úÖ Found: [data-action="save-notes"]', 'success');
                        testLog(`   Text: "${saveNotesBtn.textContent.trim()}"`, 'info');
                    } else {
                        testLog('‚ùå Not found: [data-action="save-notes"]', 'error');
                    }
                });
                testLog('Listener added to Find Button', 'info');
            }

            testLog('üéâ All listeners setup complete!', 'success');
        });

        // Test inline onclick
        window.testLog = testLog;
    </script>
</body>
</html>
